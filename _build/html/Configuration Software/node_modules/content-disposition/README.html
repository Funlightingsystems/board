<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>content-disposition &#8212; Board 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/classic.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">content-disposition</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="content-disposition">
<h1>content-disposition<a class="headerlink" href="#content-disposition" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://npmjs.org/package/content-disposition"><img alt="NPM Version" src="https://img.shields.io/npm/v/content-disposition.svg" /></a>
<a class="reference external" href="https://npmjs.org/package/content-disposition"><img alt="NPM Downloads" src="https://img.shields.io/npm/dm/content-disposition.svg" /></a>
<a class="reference external" href="https://nodejs.org/en/download"><img alt="Node.js Version" src="https://img.shields.io/node/v/content-disposition.svg" /></a>
<a class="reference external" href="https://github.com/jshttp/content-disposition?query=workflow%3Aci"><img alt="Build Status" src="https://img.shields.io/github/workflow/status/jshttp/content-disposition/ci/master?label=ci" /></a>
<a class="reference external" href="https://coveralls.io/r/jshttp/content-disposition?branch=master"><img alt="Test Coverage" src="https://img.shields.io/coveralls/jshttp/content-disposition.svg" /></a></p>
<p>Create and parse HTTP <code class="docutils literal notranslate"><span class="pre">Content-Disposition</span></code> header</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h2>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>npm<span class="w"> </span>install<span class="w"> </span>content-disposition
</pre></div>
</div>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this heading">¶</a></h2>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">contentDisposition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;content-disposition&#39;</span><span class="p">)</span>
</pre></div>
</div>
<section id="contentdisposition-filename-options">
<h3>contentDisposition(filename, options)<a class="headerlink" href="#contentdisposition-filename-options" title="Permalink to this heading">¶</a></h3>
<p>Create an attachment <code class="docutils literal notranslate"><span class="pre">Content-Disposition</span></code> header value using the given file name,
if supplied. The <code class="docutils literal notranslate"><span class="pre">filename</span></code> is optional and if no file name is desired, but you
want to specify <code class="docutils literal notranslate"><span class="pre">options</span></code>, set <code class="docutils literal notranslate"><span class="pre">filename</span></code> to <code class="docutils literal notranslate"><span class="pre">undefined</span></code>.</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">&#39;Content-Disposition&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">contentDisposition</span><span class="p">(</span><span class="s1">&#39;∫ maths.pdf&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>note</strong> HTTP headers are of the ISO-8859-1 character set. If you are writing this
header through a means different from <code class="docutils literal notranslate"><span class="pre">setHeader</span></code> in Node.js, you’ll want to specify
the <code class="docutils literal notranslate"><span class="pre">'binary'</span></code> encoding in Node.js.</p>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">contentDisposition</span></code> accepts these properties in the options object.</p>
<section id="fallback">
<h5>fallback<a class="headerlink" href="#fallback" title="Permalink to this heading">¶</a></h5>
<p>If the <code class="docutils literal notranslate"><span class="pre">filename</span></code> option is outside ISO-8859-1, then the file name is actually
stored in a supplemental field for clients that support Unicode file names and
a ISO-8859-1 version of the file name is automatically generated.</p>
<p>This specifies the ISO-8859-1 file name to override the automatic generation or
disables the generation all together, defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<ul class="simple">
<li><p>A string will specify the ISO-8859-1 file name to use in place of automatic
generation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code> will disable including a ISO-8859-1 file name and only include the
Unicode version (unless the file name is already ISO-8859-1).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code> will enable automatic generation if the file name is outside ISO-8859-1.</p></li>
</ul>
<p>If the <code class="docutils literal notranslate"><span class="pre">filename</span></code> option is ISO-8859-1 and this option is specified and has a
different value, then the <code class="docutils literal notranslate"><span class="pre">filename</span></code> option is encoded in the extended field
and this set as the fallback field, even though they are both ISO-8859-1.</p>
</section>
<section id="type">
<h5>type<a class="headerlink" href="#type" title="Permalink to this heading">¶</a></h5>
<p>Specifies the disposition type, defaults to <code class="docutils literal notranslate"><span class="pre">&quot;attachment&quot;</span></code>. This can also be
<code class="docutils literal notranslate"><span class="pre">&quot;inline&quot;</span></code>, or any other value (all values except inline are treated like
<code class="docutils literal notranslate"><span class="pre">attachment</span></code>, but can convey additional information if both parties agree to
it). The type is normalized to lower-case.</p>
</section>
</section>
</section>
<section id="contentdisposition-parse-string">
<h3>contentDisposition.parse(string)<a class="headerlink" href="#contentdisposition-parse-string" title="Permalink to this heading">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">disposition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">contentDisposition</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">&#39;attachment; filename=&quot;EURO rates.txt&quot;; filename*=UTF-8\&#39;\&#39;%e2%82%ac%20rates.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Parse a <code class="docutils literal notranslate"><span class="pre">Content-Disposition</span></code> header string. This automatically handles extended
(“Unicode”) parameters by decoding them and providing them under the standard
parameter name. This will return an object with the following properties (examples
are shown for the string <code class="docutils literal notranslate"><span class="pre">'attachment;</span> <span class="pre">filename=&quot;EURO</span> <span class="pre">rates.txt&quot;;</span> <span class="pre">filename*=UTF-8\'\'%e2%82%ac%20rates.txt'</span></code>):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: The disposition type (always lower case). Example: <code class="docutils literal notranslate"><span class="pre">'attachment'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parameters</span></code>: An object of the parameters in the disposition (name of parameter
always lower case and extended versions replace non-extended versions). Example:
<code class="docutils literal notranslate"><span class="pre">{filename:</span> <span class="pre">&quot;€</span> <span class="pre">rates.txt&quot;}</span></code></p></li>
</ul>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<section id="send-a-file-for-download">
<h3>Send a file for download<a class="headerlink" href="#send-a-file-for-download" title="Permalink to this heading">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span><span class="w"> </span><span class="nx">contentDisposition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;content-disposition&#39;</span><span class="p">)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">destroy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;destroy&#39;</span><span class="p">)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">http</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">)</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">onFinished</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;on-finished&#39;</span><span class="p">)</span>

<span class="kd">var</span><span class="w"> </span><span class="nx">filePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/path/to/public/plans.pdf&#39;</span>

<span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="nx">onRequest</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// set headers</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;application/pdf&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="s1">&#39;Content-Disposition&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">contentDisposition</span><span class="p">(</span><span class="nx">filePath</span><span class="p">))</span>

<span class="w">  </span><span class="c1">// send file</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="nx">filePath</span><span class="p">)</span>
<span class="w">  </span><span class="nx">stream</span><span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
<span class="w">  </span><span class="nx">onFinished</span><span class="p">(</span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">destroy</span><span class="p">(</span><span class="nx">stream</span><span class="p">)</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">})</span>
</pre></div>
</div>
</section>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this heading">¶</a></h2>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>npm<span class="w"> </span><span class="nb">test</span>
</pre></div>
</div>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc2616">RFC 2616: Hypertext Transfer Protocol – HTTP/1.1</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc5987">RFC 5987: Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters</a></p></li>
<li><p><a class="reference external" href="https://tools.ietf.org/html/rfc6266">RFC 6266: Use of the Content-Disposition Header Field in the Hypertext Transfer Protocol (HTTP)</a></p></li>
<li><p><a class="reference external" href="http://greenbytes.de/tech/tc2231/">Test Cases for HTTP Content-Disposition header field (RFC 6266) and the Encodings defined in RFCs 2047, 2231 and 5987</a></p></li>
</ul>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h2>
<p><a class="reference download internal" download="" href="../../../_downloads/4511632aae81cd4bfdd8a8bc1e610721/LICENSE"><span class="xref download myst">MIT</span></a></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">content-disposition</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#api">API</a><ul>
<li><a class="reference internal" href="#contentdisposition-filename-options">contentDisposition(filename, options)</a><ul>
<li><a class="reference internal" href="#options">Options</a><ul>
<li><a class="reference internal" href="#fallback">fallback</a></li>
<li><a class="reference internal" href="#type">type</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#contentdisposition-parse-string">contentDisposition.parse(string)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#send-a-file-for-download">Send a file for download</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/Configuration Software/node_modules/content-disposition/README.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">content-disposition</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, The FLS team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
  </body>
</html>