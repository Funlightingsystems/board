<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>OuterUnityTestAction &#8212; Board 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/classic.css" />
    
    <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OuterUnityTestAction</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="outerunitytestaction">
<h1>OuterUnityTestAction<a class="headerlink" href="#outerunitytestaction" title="Permalink to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">OuterUnityTestAction</span></code> is a wrapper outside of the tests, which allows for any tests with this attribute to run code before and after the tests. This method allows for yielding commands in the same way as <code class="docutils literal notranslate"><span class="pre">UnityTest</span></code>. The attribute must inherit the <code class="docutils literal notranslate"><span class="pre">NUnit</span></code> attribute and implement <code class="docutils literal notranslate"><span class="pre">IOuterUnityTestAction</span></code>.</p>
<section id="outerunitytestaction-example">
<h2>OuterUnityTestAction Example<a class="headerlink" href="#outerunitytestaction-example" title="Permalink to this heading">¶</a></h2>
<div class="highlight-c# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">NUnit.Framework</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">NUnit.Framework.Interfaces</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">UnityEngine.TestTools</span><span class="p">;</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MyTestClass</span>
<span class="p">{</span>
<span class="w">    </span><span class="na">[UnityTest, MyOuterActionAttribute]</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IEnumerator</span><span class="w"> </span><span class="nf">MyTestInsidePlaymode</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Assert</span><span class="p">.</span><span class="n">IsTrue</span><span class="p">(</span><span class="n">Application</span><span class="p">.</span><span class="n">isPlaying</span><span class="p">);</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MyOuterActionAttribute</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NUnitAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">IOuterUnityTestAction</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IEnumerator</span><span class="w"> </span><span class="nf">BeforeTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">EnterPlayMode</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IEnumerator</span><span class="w"> </span><span class="nf">AfterTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">ExitPlayMode</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="execution-order">
<h2>Execution order<a class="headerlink" href="#execution-order" title="Permalink to this heading">¶</a></h2>
<p>Unity outer test action is not rerun on domain reload but non-Unity action attributes are:</p>
<p><img alt="OuterUnityTestAction Execution Order" src="../../../../../../_images/execution-order-outerunitytestaction.svg" /></p>
<blockquote>
<div><p><strong>Note</strong>: Some browsers do not support SVG image files. If the image above does not display properly (for example, if you cannot see any text), please try another browser, such as <a class="reference external" href="https://www.google.com/chrome/">Google Chrome</a> or <a class="reference external" href="https://www.mozilla.org">Mozilla Firefox</a>.</p>
</div></blockquote>
<section id="test-actions-with-domain-reload-example">
<h3>Test actions with domain reload example<a class="headerlink" href="#test-actions-with-domain-reload-example" title="Permalink to this heading">¶</a></h3>
<div class="highlight-csharp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">NUnit.Framework.Interfaces</span><span class="p">;</span>


<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">TestActionOnSuiteAttribute</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NUnitAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">ITestAction</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">BeforeTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;TestAction OnSuite BeforeTest&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">AfterTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">ActionTargets</span><span class="w"> </span><span class="n">Targets</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ActionTargets</span><span class="p">.</span><span class="n">Suite</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">TestActionOnTestAttribute</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NUnitAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">ITestAction</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">BeforeTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;TestAction OnTest BeforeTest&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">AfterTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;TestAction OnTest AfterTest&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">ActionTargets</span><span class="w"> </span><span class="n">Targets</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ActionTargets</span><span class="p">.</span><span class="n">Test</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">OuterTestAttribute</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">NUnitAttribute</span><span class="p">,</span><span class="w"> </span><span class="n">IOuterUnityTestAction</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IEnumerator</span><span class="w"> </span><span class="nf">BeforeTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;OuterTestAttribute BeforeTest&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IEnumerator</span><span class="w"> </span><span class="nf">AfterTest</span><span class="p">(</span><span class="n">ITest</span><span class="w"> </span><span class="n">test</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;OuterTestAttribute AfterTest&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="na">[TestActionOnSuite]</span>
<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">ActionOrderTestBase</span>
<span class="p">{</span>
<span class="w">    </span><span class="na">[Test, OuterTest, TestActionOnTest]</span><span class="w">   </span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">UnitTest</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="na">[UnityTest, OuterTest, TestActionOnTest]</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="n">IEnumerator</span><span class="w"> </span><span class="nf">UnityTestWithDomainReload</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;Test part 1&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">EnterPlayMode</span><span class="p">();</span><span class="w"> </span>
<span class="w">        </span><span class="c1">//Domain reload</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">ExitPlayMode</span><span class="p">();</span>
<span class="w">        </span><span class="n">Log</span><span class="p">(</span><span class="s">&quot;Test part 2&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../../../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">OuterUnityTestAction</a><ul>
<li><a class="reference internal" href="#outerunitytestaction-example">OuterUnityTestAction Example</a></li>
<li><a class="reference internal" href="#execution-order">Execution order</a><ul>
<li><a class="reference internal" href="#test-actions-with-domain-reload-example">Test actions with domain reload example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../../_sources/Unity Files/DMXController/Library/PackageCache/com.unity.test-framework@1.1.31/Documentation~/reference-outerunitytestaction.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OuterUnityTestAction</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, The FLS team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
  </body>
</html>