<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Using Code Coverage &#8212; Board 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/classic.css" />
    
    <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using Code Coverage</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="using-code-coverage">
<h1>Using Code Coverage<a class="headerlink" href="#using-code-coverage" title="Permalink to this heading">¶</a></h1>
<section id="using-code-coverage-with-burst-compiler">
<h2>Using Code Coverage with Burst compiler<a class="headerlink" href="#using-code-coverage-with-burst-compiler" title="Permalink to this heading">¶</a></h2>
<p>If you use the <a class="reference external" href="https://docs.unity3d.com/Packages/com.unity.burst&#64;latest">Burst package</a> and have jobs compiled with Burst, you will need to disable Burst compilation in order to get full coverage. To disable Burst compilation you can do <strong>one</strong> of the following:</p>
<ul class="simple">
<li><p>Uncheck <strong>Enable Compilation</strong> under <strong>Jobs</strong> &gt; <strong>Burst</strong> &gt; <strong>Enable Compilation</strong>.</p></li>
<li><p>Pass <code class="docutils literal notranslate"><span class="pre">-burst-disable-compilation</span></code> to the command line.</p></li>
</ul>
</section>
<section id="using-code-coverage-with-code-optimization">
<h2>Using Code Coverage with Code Optimization<a class="headerlink" href="#using-code-coverage-with-code-optimization" title="Permalink to this heading">¶</a></h2>
<p>Code Optimization was introduced in 2020.1. Code Optimization mode defines whether Unity Editor compiles scripts in Debug or Release mode. Debug mode enables C# debugging and it is required in order to obtain accurate code coverage. To ensure Code optimization is set to Debug mode you can do <strong>one</strong> of the following:</p>
<ul class="simple">
<li><p>Switch to Debug mode in the Editor (bottom right corner, select the <strong>Bug icon</strong> &gt; <strong>Switch to debug mode</strong>).</p></li>
<li><p>Using the CompilationPipeline api, set <code class="docutils literal notranslate"><span class="pre">CompilationPipeline.codeOptimization</span> <span class="pre">=</span> <span class="pre">CodeOptimization.Debug</span></code>.</p></li>
<li><p>Pass <code class="docutils literal notranslate"><span class="pre">-debugCodeOptimization</span></code> to the command line.</p></li>
</ul>
</section>
<section id="excluding-code-from-code-coverage">
<h2>Excluding code from Code Coverage<a class="headerlink" href="#excluding-code-from-code-coverage" title="Permalink to this heading">¶</a></h2>
<p>Any code that should not be contributing to the Code Coverage calculation can be excluded by adding the <a class="reference external" href="https://docs.unity3d.com/ScriptReference/TestTools.ExcludeFromCoverageAttribute.html"><code class="docutils literal notranslate"><span class="pre">ExcludeFromCoverage</span></code></a> attribute. This attribute can be added to Assemblies, Classes, Constructors, Methods and Structs. Note that you can also use the .NET <a class="reference external" href="https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.codeanalysis.excludefromcodecoverageattribute?view=netcore-2.0"><code class="docutils literal notranslate"><span class="pre">ExcludeFromCodeCoverage</span></code></a> attribute.</p>
</section>
<section id="ignoring-tests-for-code-coverage">
<h2>Ignoring tests for Code Coverage<a class="headerlink" href="#ignoring-tests-for-code-coverage" title="Permalink to this heading">¶</a></h2>
<p>To ignore tests when running with Code Coverage, use the <a class="reference external" href="https://docs.unity3d.com/Packages/com.unity.test-framework&#64;latest/index.html?subfolder=/manual/reference-attribute-conditionalignore.html">ConditionalIgnore</a> attribute, passing the <code class="docutils literal notranslate"><span class="pre">&quot;IgnoreForCoverage&quot;</span></code> ID.</p>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">public</span> <span class="k">class</span> <span class="nc">MyTestClass</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">Test</span><span class="p">,</span> <span class="n">ConditionalIgnore</span><span class="p">(</span><span class="s2">&quot;IgnoreForCoverage&quot;</span><span class="p">,</span> <span class="s2">&quot;This test is disabled when ran with code coverage&quot;</span><span class="p">)]</span>
    <span class="n">public</span> <span class="n">void</span> <span class="n">TestNeverRunningWithCodeCoverage</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Assert</span><span class="o">.</span><span class="n">Pass</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="subscribing-to-code-coverage-session-events">
<h2>Subscribing to Code Coverage session events<a class="headerlink" href="#subscribing-to-code-coverage-session-events" title="Permalink to this heading">¶</a></h2>
<p>Use the <a class="reference external" href="https://docs.unity3d.com/Packages/com.unity.testtools.codecoverage&#64;latest/index.html?subfolder=/api/UnityEditor.TestTools.CodeCoverage.Events.html">Events API</a> to subscribe to events invoked during a Code Coverage session.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../../../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Using Code Coverage</a><ul>
<li><a class="reference internal" href="#using-code-coverage-with-burst-compiler">Using Code Coverage with Burst compiler</a></li>
<li><a class="reference internal" href="#using-code-coverage-with-code-optimization">Using Code Coverage with Code Optimization</a></li>
<li><a class="reference internal" href="#excluding-code-from-code-coverage">Excluding code from Code Coverage</a></li>
<li><a class="reference internal" href="#ignoring-tests-for-code-coverage">Ignoring tests for Code Coverage</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#subscribing-to-code-coverage-session-events">Subscribing to Code Coverage session events</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../../_sources/Unity Files/DMXController/Library/PackageCache/com.unity.testtools.codecoverage@1.2.2/Documentation~/UsingCodeCoverage.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Using Code Coverage</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, The FLS team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
  </body>
</html>