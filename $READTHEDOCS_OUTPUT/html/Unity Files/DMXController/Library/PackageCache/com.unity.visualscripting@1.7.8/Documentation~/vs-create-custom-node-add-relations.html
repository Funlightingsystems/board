<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Add relations to a Custom C# node &#8212; Board 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../_static/classic.css" />
    
    <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Add relations to a Custom C# node</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="add-relations-to-a-custom-c-node">
<h1>Add relations to a Custom C# node<a class="headerlink" href="#add-relations-to-a-custom-c-node" title="Permalink to this heading">¶</a></h1>
<blockquote>
<div><p>[!NOTE]
To add logic to a node, you must create a Custom C# node and add ports. [!include<a class="reference internal" href="snippets/custom-c-nodes/vs-tasks-note-end.html"><span class="std std-doc">vs-tasks-note-end</span></a>]</p>
</div></blockquote>
<p>After you <a class="reference internal" href="vs-create-custom-node-add-ports.html"><span class="std std-doc">add ports</span></a> and <a class="reference internal" href="vs-create-custom-node-add-logic.html"><span class="std std-doc">add logic</span></a> to a node, relations help Visual Scripting correctly display a Custom C# node in a Script Graph.</p>
<p>To add relations to a node:</p>
<ol class="arabic">
<li><p>[!include<a class="reference internal" href="snippets/vs-open-project-window.html"><span class="std std-doc">open-project-window</span></a>]</p></li>
<li><p>[!include<a class="reference internal" href="snippets/vs-open-existing-external-code.html"><span class="std std-doc">open-existing-external-code</span></a>]</p></li>
<li><p>In your external editor, add relations in the format <code class="docutils literal notranslate"><span class="pre">$RelationType$($Port1$,</span> <span class="pre">$Port2$)</span></code>, where <code class="docutils literal notranslate"><span class="pre">$RelationType$</span></code> is the relation type you want to assign between the ports you specify as <code class="docutils literal notranslate"><span class="pre">$Port1$</span></code> or <code class="docutils literal notranslate"><span class="pre">$Port2$</span></code>.</p>
<p>For example, to assign relations to the previous example node:</p>
<div class="highlight-C# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Unity.VisualScripting</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">UnityEngine</span><span class="p">;</span>

<span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">MyNode</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Unit</span>
<span class="p">{</span>
<span class="na">[DoNotSerialize]</span>
<span class="k">public</span><span class="w"> </span><span class="n">ControlInput</span><span class="w"> </span><span class="n">inputTrigger</span><span class="p">;</span>

<span class="na">[DoNotSerialize]</span>
<span class="k">public</span><span class="w"> </span><span class="n">ControlOutput</span><span class="w"> </span><span class="n">outputTrigger</span><span class="p">;</span>

<span class="na">[DoNotSerialize]</span>
<span class="k">public</span><span class="w"> </span><span class="n">ValueInput</span><span class="w"> </span><span class="n">myValueA</span><span class="p">;</span>

<span class="na">[DoNotSerialize]</span>
<span class="k">public</span><span class="w"> </span><span class="n">ValueInput</span><span class="w"> </span><span class="n">myValueB</span><span class="p">;</span>

<span class="na">[DoNotSerialize]</span>
<span class="k">public</span><span class="w"> </span><span class="n">ValueOutput</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>

<span class="k">private</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">resultValue</span><span class="p">;</span>
<span class="k">protected</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Definition</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">inputTrigger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ControlInput</span><span class="p">(</span><span class="s">&quot;inputTrigger&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">flow</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">resultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">flow</span><span class="p">.</span><span class="n">GetValue</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">myValueA</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">flow</span><span class="p">.</span><span class="n">GetValue</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">(</span><span class="n">myValueB</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;!!!&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">outputTrigger</span><span class="p">;</span>
<span class="w">    </span><span class="p">});</span>
<span class="w">    </span><span class="n">outputTrigger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ControlOutput</span><span class="p">(</span><span class="s">&quot;outputTrigger&quot;</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="n">myValueA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValueInput</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;myValueA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hello &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">myValueB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValueInput</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;myValueB&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="n">Empty</span><span class="p">);</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValueOutput</span><span class="o">&lt;</span><span class="kt">string</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;result&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">flow</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">resultValue</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="n">Requirement</span><span class="p">(</span><span class="n">myValueA</span><span class="p">,</span><span class="w"> </span><span class="n">inputTrigger</span><span class="p">);</span><span class="w"> </span><span class="c1">//Specifies that we need the myValueA value to be set before the node can run.</span>
<span class="w">    </span><span class="n">Requirement</span><span class="p">(</span><span class="n">myValueB</span><span class="p">,</span><span class="w"> </span><span class="n">inputTrigger</span><span class="p">);</span><span class="w"> </span><span class="c1">//Specifies that we need the myValueB value to be set before the node can run.</span>
<span class="w">    </span><span class="n">Succession</span><span class="p">(</span><span class="n">inputTrigger</span><span class="p">,</span><span class="w"> </span><span class="n">outputTrigger</span><span class="p">);</span><span class="w"> </span><span class="c1">//Specifies that the input trigger port&#39;s input exits at the output trigger port. Not setting your succession also dims connected nodes, but the execution still completes.</span>
<span class="w">    </span><span class="n">Assignment</span><span class="p">(</span><span class="n">inputTrigger</span><span class="p">,</span><span class="n">result</span><span class="p">);</span><span class="c1">//Specifies that data is written to the result string output when the inputTrigger is triggered.</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For more information on relation types, see <a class="reference internal" href="vs-create-custom-node.html#relation-types"><span class="std std-ref">Custom C# nodes</span></a>.</p>
</li>
<li><p>[!include<a class="reference internal" href="snippets/vs-save-script.html"><span class="std std-doc">save-script</span></a>]</p></li>
<li><p>[!include<a class="reference internal" href="snippets/vs-return-unity.html"><span class="std std-doc">return-unity</span></a>]</p></li>
<li><p>Do one of the following:</p>
<ul class="simple">
<li><p>[!include<a class="reference internal" href="snippets/custom-c-nodes/vs-open-graph-w-node.html"><span class="std std-doc">open-graph-w-node</span></a>].</p></li>
<li><p>[!include<a class="reference internal" href="snippets/custom-c-nodes/vs-ff-add-node.html"><span class="std std-doc">ff-add-node</span></a>]</p></li>
</ul>
</li>
<li><p>In the <a class="reference internal" href="vs-interface-overview.html#the-graph-toolbar"><span class="std std-ref">Graph toolbar</span></a>, enable <strong>Relations</strong>.</p>
<p>Visual Scripting displays the relations you assigned to the Custom C# node. If you used the previous code sample, the node’s relations might look like the following image:</p>
<p><img alt="An image of the Graph window. The opened Script Graph has two groups that each contain a single Custom C# node: a yellow Before group and a purple After group. In the Before group, the Custom C# node, My Node, has no relations. Visual Scripting doesn't display any lines on the node to demonstrate a relation between ports. In the After group, the Custom C# node has two lines that branch from the ports of the My Value A port and the My Value B port. These two lines meet at the Input Trigger port. On the node, the line from the Input Trigger port separates into two lines. One line goes to the Output Trigger port, while the other goes to the Result output port." src="../../../../../../_images/vs-my-node-custom-node-relations.png" /></p>
</li>
</ol>
<section id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">¶</a></h2>
<p>After you add relations to a node, you can choose to <a class="reference internal" href="vs-create-custom-node-add-docs.html"><span class="std std-doc">add documentation</span></a> or <a class="reference internal" href="vs-create-custom-node-attributes-reference.html"><span class="std std-doc">customize the node with attributes</span></a>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../../../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Add relations to a Custom C# node</a><ul>
<li><a class="reference internal" href="#next-steps">Next steps</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../../_sources/Unity Files/DMXController/Library/PackageCache/com.unity.visualscripting@1.7.8/Documentation~/vs-create-custom-node-add-relations.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Add relations to a Custom C# node</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, The FLS team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
  </body>
</html>