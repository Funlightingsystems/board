<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>whatwg-url &#8212; Board 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/classic.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">whatwg-url</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="whatwg-url">
<h1>whatwg-url<a class="headerlink" href="#whatwg-url" title="Permalink to this heading">¶</a></h1>
<p>whatwg-url is a full implementation of the WHATWG <a class="reference external" href="https://url.spec.whatwg.org/">URL Standard</a>. It can be used standalone, but it also exposes a lot of the internal algorithms that are useful for integrating a URL parser into a project like <a class="reference external" href="https://github.com/jsdom/jsdom">jsdom</a>.</p>
<section id="specification-conformance">
<h2>Specification conformance<a class="headerlink" href="#specification-conformance" title="Permalink to this heading">¶</a></h2>
<p>whatwg-url is currently up to date with the URL spec up to commit <a class="reference external" href="https://github.com/whatwg/url/commit/fdaa0e5a3790693a82f578d7373f216d8fef9ac8">fdaa0e5</a>.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">file:</span></code> URLs, whose <a class="reference external" href="https://url.spec.whatwg.org/#concept-url-origin">origin is left unspecified</a>, whatwg-url chooses to use a new opaque origin (which serializes to <code class="docutils literal notranslate"><span class="pre">&quot;null&quot;</span></code>).</p>
<p>whatwg-url does not yet implement any encoding handling beyond UTF-8. That is, the <em>encoding override</em> parameter does not exist in our API.</p>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this heading">¶</a></h2>
<section id="the-url-and-urlsearchparams-classes">
<h3>The <code class="docutils literal notranslate"><span class="pre">URL</span></code> and <code class="docutils literal notranslate"><span class="pre">URLSearchParams</span></code> classes<a class="headerlink" href="#the-url-and-urlsearchparams-classes" title="Permalink to this heading">¶</a></h3>
<p>The main API is provided by the <a class="reference external" href="https://url.spec.whatwg.org/#url-class"><code class="docutils literal notranslate"><span class="pre">URL</span></code></a> and <a class="reference external" href="https://url.spec.whatwg.org/#interface-urlsearchparams"><code class="docutils literal notranslate"><span class="pre">URLSearchParams</span></code></a> exports, which follows the spec’s behavior in all ways (including e.g. <code class="docutils literal notranslate"><span class="pre">USVString</span></code> conversion). Most consumers of this library will want to use these.</p>
</section>
<section id="low-level-url-standard-api">
<h3>Low-level URL Standard API<a class="headerlink" href="#low-level-url-standard-api" title="Permalink to this heading">¶</a></h3>
<p>The following methods are exported for use by places like jsdom that need to implement things like <a class="reference external" href="https://html.spec.whatwg.org/#htmlhyperlinkelementutils"><code class="docutils literal notranslate"><span class="pre">HTMLHyperlinkElementUtils</span></code></a>. They mostly operate on or return an “internal URL” or <a class="reference external" href="https://url.spec.whatwg.org/#concept-url">“URL record”</a> type.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a>: <code class="docutils literal notranslate"><span class="pre">parseURL(input,</span> <span class="pre">{</span> <span class="pre">baseURL</span> <span class="pre">})</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-basic-url-parser">Basic URL parser</a>: <code class="docutils literal notranslate"><span class="pre">basicURLParse(input,</span> <span class="pre">{</span> <span class="pre">baseURL,</span> <span class="pre">url,</span> <span class="pre">stateOverride</span> <span class="pre">})</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-serializer">URL serializer</a>: <code class="docutils literal notranslate"><span class="pre">serializeURL(urlRecord,</span> <span class="pre">excludeFragment)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-host-serializer">Host serializer</a>: <code class="docutils literal notranslate"><span class="pre">serializeHost(hostFromURLRecord)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#url-path-serializer">URL path serializer</a>: <code class="docutils literal notranslate"><span class="pre">serializePath(urlRecord)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#serialize-an-integer">Serialize an integer</a>: <code class="docutils literal notranslate"><span class="pre">serializeInteger(number)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-origin">Origin</a> <a class="reference external" href="https://html.spec.whatwg.org/multipage/origin.html#ascii-serialisation-of-an-origin">serializer</a>: <code class="docutils literal notranslate"><span class="pre">serializeURLOrigin(urlRecord)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#set-the-username">Set the username</a>: <code class="docutils literal notranslate"><span class="pre">setTheUsername(urlRecord,</span> <span class="pre">usernameString)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#set-the-password">Set the password</a>: <code class="docutils literal notranslate"><span class="pre">setThePassword(urlRecord,</span> <span class="pre">passwordString)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#url-opaque-path">Has an opaque path</a>: <code class="docutils literal notranslate"><span class="pre">hasAnOpaquePath(urlRecord)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#cannot-have-a-username-password-port">Cannot have a username/password/port</a>: <code class="docutils literal notranslate"><span class="pre">cannotHaveAUsernamePasswordPort(urlRecord)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#percent-decode">Percent decode bytes</a>: <code class="docutils literal notranslate"><span class="pre">percentDecodeBytes(uint8Array)</span></code></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#percent-decode-string">Percent decode a string</a>: <code class="docutils literal notranslate"><span class="pre">percentDecodeString(string)</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">stateOverride</span></code> parameter is one of the following strings:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#scheme-start-state"><code class="docutils literal notranslate"><span class="pre">&quot;scheme</span> <span class="pre">start&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#scheme-state"><code class="docutils literal notranslate"><span class="pre">&quot;scheme&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#no-scheme-state"><code class="docutils literal notranslate"><span class="pre">&quot;no</span> <span class="pre">scheme&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#special-relative-or-authority-state"><code class="docutils literal notranslate"><span class="pre">&quot;special</span> <span class="pre">relative</span> <span class="pre">or</span> <span class="pre">authority&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#path-or-authority-state"><code class="docutils literal notranslate"><span class="pre">&quot;path</span> <span class="pre">or</span> <span class="pre">authority&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#relative-state"><code class="docutils literal notranslate"><span class="pre">&quot;relative&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#relative-slash-state"><code class="docutils literal notranslate"><span class="pre">&quot;relative</span> <span class="pre">slash&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#special-authority-slashes-state"><code class="docutils literal notranslate"><span class="pre">&quot;special</span> <span class="pre">authority</span> <span class="pre">slashes&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#special-authority-ignore-slashes-state"><code class="docutils literal notranslate"><span class="pre">&quot;special</span> <span class="pre">authority</span> <span class="pre">ignore</span> <span class="pre">slashes&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#authority-state"><code class="docutils literal notranslate"><span class="pre">&quot;authority&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#host-state"><code class="docutils literal notranslate"><span class="pre">&quot;host&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#hostname-state"><code class="docutils literal notranslate"><span class="pre">&quot;hostname&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#port-state"><code class="docutils literal notranslate"><span class="pre">&quot;port&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#file-state"><code class="docutils literal notranslate"><span class="pre">&quot;file&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#file-slash-state"><code class="docutils literal notranslate"><span class="pre">&quot;file</span> <span class="pre">slash&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#file-host-state"><code class="docutils literal notranslate"><span class="pre">&quot;file</span> <span class="pre">host&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#path-start-state"><code class="docutils literal notranslate"><span class="pre">&quot;path</span> <span class="pre">start&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#path-state"><code class="docutils literal notranslate"><span class="pre">&quot;path&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#cannot-be-a-base-url-path-state"><code class="docutils literal notranslate"><span class="pre">&quot;opaque</span> <span class="pre">path&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#query-state"><code class="docutils literal notranslate"><span class="pre">&quot;query&quot;</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#fragment-state"><code class="docutils literal notranslate"><span class="pre">&quot;fragment&quot;</span></code></a></p></li>
</ul>
<p>The URL record type has the following API:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-scheme"><code class="docutils literal notranslate"><span class="pre">scheme</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-username"><code class="docutils literal notranslate"><span class="pre">username</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-password"><code class="docutils literal notranslate"><span class="pre">password</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-port"><code class="docutils literal notranslate"><span class="pre">port</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-path"><code class="docutils literal notranslate"><span class="pre">path</span></code></a> (as an array of strings, or a string)</p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-query"><code class="docutils literal notranslate"><span class="pre">query</span></code></a></p></li>
<li><p><a class="reference external" href="https://url.spec.whatwg.org/#concept-url-fragment"><code class="docutils literal notranslate"><span class="pre">fragment</span></code></a></p></li>
</ul>
<p>These properties should be treated with care, as in general changing them will cause the URL record to be in an inconsistent state until the appropriate invocation of <code class="docutils literal notranslate"><span class="pre">basicURLParse</span></code> is used to fix it up. You can see examples of this in the URL Standard, where there are many step sequences like “4. Set context object’s url’s fragment to the empty string. 5. Basic URL parse <em>input</em> with context object’s url as <em>url</em> and fragment state as <em>state override</em>.” In between those two steps, a URL record is in an unusable state.</p>
<p>The return value of “failure” in the spec is represented by <code class="docutils literal notranslate"><span class="pre">null</span></code>. That is, functions like <code class="docutils literal notranslate"><span class="pre">parseURL</span></code> and <code class="docutils literal notranslate"><span class="pre">basicURLParse</span></code> can return <em>either</em> a URL record <em>or</em> <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</section>
<section id="whatwg-url-webidl2js-wrapper-module">
<h3><code class="docutils literal notranslate"><span class="pre">whatwg-url/webidl2js-wrapper</span></code> module<a class="headerlink" href="#whatwg-url-webidl2js-wrapper-module" title="Permalink to this heading">¶</a></h3>
<p>This module exports the <code class="docutils literal notranslate"><span class="pre">URL</span></code> and <code class="docutils literal notranslate"><span class="pre">URLSearchParams</span></code> <a class="reference external" href="https://github.com/jsdom/webidl2js#for-interfaces">interface wrappers API</a> generated by <a class="reference external" href="https://github.com/jsdom/webidl2js">webidl2js</a>.</p>
</section>
</section>
<section id="development-instructions">
<h2>Development instructions<a class="headerlink" href="#development-instructions" title="Permalink to this heading">¶</a></h2>
<p>First, install <a class="reference external" href="https://nodejs.org/">Node.js</a>. Then, fetch the dependencies of whatwg-url, by running from this directory:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>npm install
</pre></div>
</div>
<p>To run tests:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>npm test
</pre></div>
</div>
<p>To generate a coverage report:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>npm run coverage
</pre></div>
</div>
<p>To build and run the live viewer:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>npm run prepare
npm run build-live-viewer
</pre></div>
</div>
<p>Serve the contents of the <code class="docutils literal notranslate"><span class="pre">live-viewer</span></code> directory using any web server.</p>
</section>
<section id="supporting-whatwg-url">
<h2>Supporting whatwg-url<a class="headerlink" href="#supporting-whatwg-url" title="Permalink to this heading">¶</a></h2>
<p>The jsdom project (including whatwg-url) is a community-driven project maintained by a team of <a class="reference external" href="https://github.com/orgs/jsdom/people">volunteers</a>. You could support us by:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://tidelift.com/subscription/pkg/npm-whatwg-url?utm_source=npm-whatwg-url&amp;amp;utm_medium=referral&amp;amp;utm_campaign=readme">Getting professional support for whatwg-url</a> as part of a Tidelift subscription. Tidelift helps making open source sustainable for us while giving teams assurances for maintenance, licensing, and security.</p></li>
<li><p>Contributing directly to the project.</p></li>
</ul>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">whatwg-url</a><ul>
<li><a class="reference internal" href="#specification-conformance">Specification conformance</a></li>
<li><a class="reference internal" href="#api">API</a><ul>
<li><a class="reference internal" href="#the-url-and-urlsearchparams-classes">The <code class="docutils literal notranslate"><span class="pre">URL</span></code> and <code class="docutils literal notranslate"><span class="pre">URLSearchParams</span></code> classes</a></li>
<li><a class="reference internal" href="#low-level-url-standard-api">Low-level URL Standard API</a></li>
<li><a class="reference internal" href="#whatwg-url-webidl2js-wrapper-module"><code class="docutils literal notranslate"><span class="pre">whatwg-url/webidl2js-wrapper</span></code> module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#development-instructions">Development instructions</a></li>
<li><a class="reference internal" href="#supporting-whatwg-url">Supporting whatwg-url</a></li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/NodeJS/node_modules/whatwg-url/README.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Board 1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">whatwg-url</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, The FLS team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
  </body>
</html>